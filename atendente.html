<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel do Atendente</title>
    <link rel='stylesheet' href='style.css'>
</head>
<body>
    <div class='dashboard-container'>
        <header class='topbar'>
            <h1>Atendimento — Geórgia Contábl</h1>
            <div class='user-actions'>
                <a class='ghost' href='dashboard.html'>Voltar</a>
                <button class='ghost' onclick='logout()'>Sair</button>
            </div>
        </header>

        <section class='controls'>
            <div class='filters'>
                <label>Área:</label>
                <div>
                    <button class='ghost' onclick="selecionarAreaAtendente('')">Todos</button>
                    <button class='ghost' onclick="selecionarAreaAtendente('TI')">TI</button>
                    <button class='ghost' onclick="selecionarAreaAtendente('RH')">RH</button>
                    <button class='ghost' onclick="selecionarAreaAtendente('Financeiro')">Financeiro</button>
                    <button class='ghost' onclick="selecionarAreaAtendente('Comercial')">Comercial</button>
                </div>
                <label>Status:</label>
                <select id='filtro-status-att' onchange='listarChamadosAtendente()'>
                    <option value=''>Todos</option>
                    <option value='Aberto'>Aberto</option>
                    <option value='Em andamento'>Em andamento</option>
                    <option value='Fechado'>Fechado</option>
                </select>
                <label>Buscar ID:</label>
                <input id='busca-id-att' placeholder='202501' oninput='listarChamadosAtendente()'>
            </div>
        </section>

        <section class='card'>
            <h2>Disponíveis na Área: <span id='area-atual-label'>Todas</span></h2>
            <table id='chamados-atend'>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Título</th>
                        <th>Prioridade</th>
                        <th>Área</th>
                        <th>Solicitante</th>
                        <th>Status</th>
                        <th>Data</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <section class='card'>
            <h2>Meus Chamados (em atendimento)</h2>
            <table id='chamados-meus'>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Título</th>
                        <th>Prioridade</th>
                        <th>Área</th>
                        <th>Solicitante</th>
                        <th>Status</th>
                        <th>Data</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <section class='card'>
            <h2>Em atendimento (outros)</h2>
            <table id='chamados-outros'>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Título</th>
                        <th>Prioridade</th>
                        <th>Área</th>
                        <th>Solicitante</th>
                        <th>Responsável</th>
                        <th>Status</th>
                        <th>Data</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <section class='card'>
            <h2>Finalizados</h2>
            <table id='chamados-finalizados'>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Título</th>
                        <th>Prioridade</th>
                        <th>Área</th>
                        <th>Solicitante</th>
                        <th>Data</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <section class='card' id='detalhe-chamado' style='display:none;'>
            <h2>Detalhes do Chamado</h2>
            <div id='detalhe-conteudo'></div>
            <label for='andamento-texto'>Responder/Andamento</label>
            <textarea id='andamento-texto' placeholder='Descreva o atendimento realizado...'></textarea>
            <div class='actions'>
                <button class='ghost' onclick='fecharDetalhe()'>Fechar</button>
                <button class='primary' onclick='adicionarAndamento()'>Salvar atualização</button>
            </div>
            <div class='actions' style='justify-content:flex-start;margin-top:16px'>
                <button id='btn-assumir' class='primary' onclick='assumirChamado()'>Assumir chamado</button>
                <button class='ghost' onclick='finalizarChamado()'>Finalizar e fechar</button>
            </div>
        </section>
    </div>
    <div id='mini-panel' class='mini-panel' style='display:none;'>
        <h3>Chamado <span id='mini-id'></span></h3>
        <div id='mini-body'></div>
        <div class='actions' style='justify-content:flex-start;margin-top:12px;'>
            <button id='mini-assumir' class='primary' onclick='assumirChamado()'>Assumir</button>
            <button class='ghost' onclick='finalizarChamado()'>Finalizar</button>
            <button class='ghost' onclick="document.getElementById('mini-panel').style.display='none'">Fechar</button>
        </div>
    </div>

    <div id='modal-ver' class='modal'>
        <div class='modal-body'>
            <div class='actions' style='justify-content:flex-end;margin-bottom:8px;'>
                <button class='ghost' onclick="document.getElementById('modal-ver').style.display='none'">Fechar</button>
            </div>
            <div id='modal-ver-body'></div>
        </div>
    </div>
    <script src='scrip.js'></script>
</body>
</html>

